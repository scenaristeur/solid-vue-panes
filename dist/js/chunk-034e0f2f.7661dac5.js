(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-034e0f2f","chunk-70dcbfa3","chunk-457eee6c"],{4380:function(e,t,n){"use strict";n("4160"),n("b0c0"),n("d3b7"),n("ac1f"),n("1276"),n("159b"),n("ddb0");var r=n("b85c"),o=(n("96cf"),n("1da1")),s=n("4d8d"),a=n("6dc1"),i=n("00e8"),c=n.n(i),u=n("7fed"),l=n.n(u),p=new l.a(c.a);t["a"]={methods:{getProfile:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var n,r,o,i,c,u,l,d,g,h,f,w,m;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n={friends:[]},n.webId=t,e.prev=2,e.next=5,Object(s["b"])(t);case 5:return r=e.sent,o=r.getSubject(t),n.name=o.getString(a["i"].fn),n.organization=o.getString("http://www.w3.org/2006/vcard/ns#organization-name"),n.role=o.getString(a["i"].role),n.photo=o.getRef(a["i"].hasPhoto),n.bday=o.getString(a["i"].bday),n.gender=o.getString(a["i"].hasGender),n.note=o.getString(a["i"].note),n.friends=o.getAllRefs(a["b"].knows),i=o.getRef(a["i"].hasAddress),null!=i&&(c=r.getSubject(i),n.locality=c.getString(a["i"].locality),n.country=c.getString("http://www.w3.org/2006/vcard/ns#country-name"),n.postal=c.getString("http://www.w3.org/2006/vcard/ns#postal-code"),n.region=c.getString(a["i"].region),n.address=c.getString("http://www.w3.org/2006/vcard/ns#street-address")),e.next=19,this.getWorkspaces(t);case 19:if(n.workspaces=e.sent,!(n.workspaces.length>0)){e.next=44;break}console.log("PF",n.workspaces),e.t0=regeneratorRuntime.keys(n.workspaces);case 23:if((e.t1=e.t0()).done){e.next=43;break}if(u=e.t1.value,l=n.workspaces[u],"gouvernance"!=l.name){e.next=41;break}return d=l.path+"groups",g=l.path+"tensions",console.log("ww",l,d,g),e.next=32,p.readFolder(d);case 32:return h=e.sent,e.next=35,p.readFolder(d);case 35:f=e.sent,w=h.files,m=f.files,console.log(w,m),n.groups=w,n.tensions=m;case 41:e.next=23;break;case 43:console.log("PROFILE",t,n);case 44:e.next=49;break;case 46:e.prev=46,e.t2=e["catch"](2),this.makeToast(e.t2.message,t,"warning");case 49:return e.abrupt("return",n);case 50:case"end":return e.stop()}}),e,this,[[2,46]])})));function t(t){return e.apply(this,arguments)}return t}(),getInboxUrls:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var n,r,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=[],e.prev=1,e.next=4,Object(s["b"])(t);case 4:return r=e.sent,o=r.getSubject(t),e.next=8,o.getAllRefs(a["c"].inbox);case 8:n=e.sent,e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](1),this.makeToast(e.t0.message,t,"warning");case 14:return e.abrupt("return",n);case 15:case"end":return e.stop()}}),e,this,[[1,11]])})));function t(t){return e.apply(this,arguments)}return t}(),getFriends:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var n,r,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=[],e.prev=1,e.next=4,Object(s["b"])(t);case 4:return r=e.sent,o=r.getSubject(t),e.next=8,o.getAllRefs(a["b"].knows);case 8:n=e.sent,e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](1),this.makeToast(e.t0.message,t,"warning");case 14:return e.abrupt("return",n);case 15:case"end":return e.stop()}}),e,this,[[1,11]])})));function t(t){return e.apply(this,arguments)}return t}(),getWorkspaces:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var n,o,i,c,u,l,d,g,h,f,w;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=[],e.next=3,solid.data[t].storage;case 3:if(o=e.sent,i=o+"public/popock/workspaces.ttl",!p.itemExists(i)){e.next=18;break}return c={},e.prev=7,e.next=10,Object(s["b"])(i);case 10:c=e.sent,u=c.getAllSubjectsOfType("http://www.w3.org/ns/pim/space#Workspace"),l=Object(r["a"])(u);try{for(l.s();!(d=l.n()).done;)g=d.value,h=g.getLiteral(a["d"].label),f=g.getRef("http://www.w3.org/ns/pim/space#storage"),w=g.getRef("http://www.w3.org/ns/solid/terms#webId"),n.push({name:h,path:f,pod:w,subject:g.asRef().split("#")[1]})}catch(m){l.e(m)}finally{l.f()}e.next=18;break;case 16:e.prev=16,e.t0=e["catch"](7);case 18:return e.abrupt("return",n);case 19:case"end":return e.stop()}}),e,null,[[7,16]])})));function t(t){return e.apply(this,arguments)}return t}(),getGroups:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=[],e.next=3,this.getWorkspaces(t);case 3:r=e.sent,r.length>0&&(console.log(t,r),r.forEach(function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var r,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("gouvernance"!=t.name){e.next=10;break}return console.log(t.name,t.path,t.subject),r=t.path+"groups",console.log("groups_folder",r),e.next=6,p.readFolder(r);case 6:return o=e.sent,n=o.files,console.log("GGGGGGGRRRRoups 2",n),e.abrupt("return",n);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),getTensions:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=[],e.next=3,this.getWorkspaces(t);case 3:return r=e.sent,r.length>0&&(console.log(t,r),r.forEach(function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var r,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(console.log(t.name,t.path,t.subject),"gouvernance"!=t.name){e.next=9;break}return r=t.path+"tensions",console.log("TTTTTTTTTension folder",r),e.next=6,p.readFolder(r);case 6:o=e.sent,n=o.files,console.log("TTTTTENSIONS",n);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),e.abrupt("return",n);case 6:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),addIndex:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t,n,r){var o,i,c,u,l,p;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return o=t+"/index.ttl#this",i=new Date,c=i.toISOString(),u=this.$store.state.solid.indexes.puti,e.next=6,Object(s["b"])(u.url);case 6:return l=e.sent,e.next=9,l.addSubject();case 9:return p=e.sent,p.addLiteral(a["e"].label,r),p.addNodeRef("http://www.w3.org/ns/solid/terms#forClass",n),p.addNodeRef("http://www.w3.org/ns/solid/terms#instance",o),p.addLiteral(a["a"].created,c),e.next=16,l.save();case 16:case"end":return e.stop()}}),e,this)})));function t(t,n,r){return e.apply(this,arguments)}return t}(),getIndexes:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var n,r,i,c,u,l,p;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n={puti:{instances:[],classes:[]},prti:{instances:[],classes:[]}},e.prev=1,e.next=4,Object(s["b"])(t);case 4:return r=e.sent,i=r.getSubject(t),e.next=8,i.getNodeRef("http://www.w3.org/ns/solid/terms#publicTypeIndex");case 8:return c=e.sent,e.next=11,i.getNodeRef("http://www.w3.org/ns/solid/terms#privateTypeIndex");case 11:return u=e.sent,n.puti.url=c,n.prti.url=u,e.next=16,Object(s["b"])(c);case 16:return l=e.sent,e.next=19,l.findSubjects("http://www.w3.org/ns/solid/terms#forClass");case 19:p=e.sent,p.forEach(function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var r,o,s,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.getRef("http://www.w3.org/ns/solid/terms#forClass");case 2:return r=e.sent,e.next=5,t.getRef("http://www.w3.org/ns/solid/terms#instance");case 5:return o=e.sent,e.next=8,t.getString(a["a"].created);case 8:return s=e.sent,e.next=11,t.getString(a["e"].label);case 11:i=e.sent,n.puti.instances.push({instance:o,classe:r,label:i,created:s}),void 0==n.puti.classes[r]&&(n.puti.classes[r]=[]),n.puti.classes[r].push(o);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=25;break;case 23:e.prev=23,e.t0=e["catch"](1);case 25:return console.log(t,n),e.abrupt("return",n);case 27:case"end":return e.stop()}}),e,null,[[1,23]])})));function t(t){return e.apply(this,arguments)}return t}(),makeToast:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.$bvToast.toast(t,{title:e,variant:n,solid:!0})}}}},af33:function(e,t,n){"use strict";var r=n("db1f"),o=n.n(r);t["default"]=o.a},cb85:function(e,t,n){"use strict";n("96cf");var r=n("1da1"),o=n("00e8"),s=n.n(o);t["a"]={methods:{popupLogin:function(){return Object(r["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,s.a.currentSession();case 2:if(t=e.sent,n="./dist-popup/popup.html",t){e.next=8;break}return e.next=7,s.a.popupLogin({popupUri:n});case 7:t=e.sent;case 8:case"end":return e.stop()}}),e)})))()},makeToast:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.$bvToast.toast(t,{title:e,variant:n,solid:!0})}}}},db1f:function(e,t){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"en":{"hello":"hello world!","login":"Login","logout":"Logout","chat":"Chat","inbox":"Inbox","talk":"Talk","databrowser":"DataBrowser","bookmarks":"Bookmarks","profile":"Profile","fofri":"Follow Friends","friends":"Friends","communication":"Communication","storage":"Storage","User":"User","explorer":"Explorer","editor":"Editor","POds in the POCKet":"POds in the POCKet!","tension_annonce":"A Tension is a difference between WHAT IS is and WHAT SHOULD BE","NameQuestion":"Please give a name to your worst Tension ?","WhatIs":"What is ?","WhatShouldBe":"What should be ?","what_role":"In which role do you feel this tension ?","which_domains":"Which domains does this tension apply ?","Save":"Save","Tension":"Tension","Tensions":"Tensions","Groups":"Groups","Name":"Name","provider_select_proposition":"If you don\'t have a POD, please select a provider in the list below:","proposition_frends_graph":"To see your Solid friends in the graph, please refresh this page.","refresh":"Refresh","choose_source":"Choose a source :"},"fr":{"hello":"Salut tout le monde!","login":"S\'identifier","logout":"Se déconnecter","chat":"Chat","inbox":"Boîte Mails","talk":"Parle","databrowser":"Stockage","bookmarks":"Signets","profile":"Profil","fofri":"Suivi d\'amis","friends":"Amis","communication":"Communication","storage":"Stockage","User":"Utilisateur","explorer":"Explorateur","editor":"Editeur","POds in the POCKet":"Ton POd dans ta POChe!","tension_annonce":"Une TENSION est la différence entre CE QUI EST et CE QUI DEVRAIT ÊTRE","NameQuestion":"S\'il te plaît, donne un nom à ta pire Tension","WhatIs":"Ce qui est ?","WhatShouldBe":"Ce qui devrait être ?","what_role":"Dans quel Rôle ressens-tu cette tension ?","which_domains":"A quels domaines s\'applique cette Tension ?","Save":"Enregistrer","Tension":"Tension","Tensions":"Tensions","Groups":"Groupes","Name":"Nom","provider_select_proposition":"Si vous n\'avez pas de POD, vous pouvez selectionner un fournisseur dans la liste suivante :","proposition_frends_graph":"Pour voir vos amis Solid dans le graphe","refresh":"Rafraîchir","choose_source":"Choisissez une source"},"de":{"hello":"Hallo Welt!","login":"Anmeldung","logout":"Ausloggen","chat":"Chat","inbox":"Inbox","talk":"Talk","databrowser":"DataBrowser","bookmarks":"Bookmarks","profile":"Profile","fofri":"Follow Friends","friends":"Friends","communication":"Communication","storage":"Storage","User":"User","explorer":"Explorer","editor":"Editor","POds in the POCKet":"Dein POD in deiner Tasche!","Tension":"Tension","Tensions":"Tensions","Groups":"Groups","Name":"Name"},"es":{"hello":"Hola Mundo !","login":"Iniciar sesión","logout":"Cerrar sesión","chat":"Chat","inbox":"Inbox","talk":"Talk","databrowser":"DataBrowser","bookmarks":"Bookmarks","profile":"Profile","fofri":"Follow Friends","friends":"Friends","communication":"Communication","storage":"Storage","User":"User","explorer":"Explorer","editor":"Editor","POds in the POCKet":"¡Tu POD en tu bolsillo!","Tension":"Tension","Tensions":"Tensions","Groups":"Groups","Name":"Name"},"ja":{"hello":"こんにちは、世界！","login":"ログインする","logout":"ログアウト","chat":"Chat","inbox":"Inbox","talk":"Talk","databrowser":"DataBrowser","bookmarks":"Bookmarks","profile":"Profile","fofri":"Follow Friends","friends":"Friends","communication":"Communication","storage":"Storage","User":"User","explorer":"Explorer","editor":"Editor","POds in the POCKet":"あなたのポケットにあなたのPOD！","Tension":"Tension","Tensions":"Tensions","Groups":"Groups","Name":"Name"},"ru":{"hello":"Привет мир！","login":"авторизоваться","logout":"выйти!","chat":"Chat","inbox":"Inbox","talk":"Talk","databrowser":"DataBrowser","bookmarks":"Bookmarks","profile":"Profile","fofri":"Follow Friends","friends":"Friends","communication":"Communication","storage":"Storage","User":"User","explorer":"Explorer","editor":"Editor","POds in the POCKet":"Ваш POD в кармане!","Tension":"Tension","Tensions":"Tensions","Groups":"Groups","Name":"Name"}}'),delete e.options._Ctor}},e9a1:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"solid-login"},[null==e.webId?n("b-button",{attrs:{variant:"success"},on:{click:e.login}},[e._v(e._s(e.$t("login")))]):n("b-button",{attrs:{variant:"danger"},on:{click:e.logout}},[e._v(e._s(e.$t("logout")))])],1)},o=[],s=(n("96cf"),n("1da1")),a=n("00e8"),i=n.n(a),c=n("cb85"),u=n("4380"),l={name:"SolidLogin",mixins:[c["a"],u["a"]],computed:{webId:function(){return this.$store.state.solid.webId}},methods:{login:function(){console.log("login"),this.popupLogin()},logout:function(){return Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,i.a.logout();case 2:case"end":return e.stop()}}),e)})))()}}},p=l,d=n("2877"),g=n("af33"),h=Object(d["a"])(p,r,o,!1,null,null,null);"function"===typeof g["default"]&&Object(g["default"])(h);t["default"]=h.exports}}]);
//# sourceMappingURL=chunk-034e0f2f.7661dac5.js.map