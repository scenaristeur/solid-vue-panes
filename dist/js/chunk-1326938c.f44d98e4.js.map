{"version":3,"sources":["webpack:///./node_modules/core-js/modules/es.array.sort.js","webpack:///./src/components/editor/EditorNetwork.vue?e35c","webpack:///./node_modules/core-js/modules/es.array.splice.js","webpack:///./src/components/editor/EditorNetwork.vue?d117","webpack:///./src/mixins/TripleMixin.js","webpack:///src/components/editor/EditorNetwork.vue","webpack:///./src/components/editor/EditorNetwork.vue?32e6","webpack:///./src/components/editor/EditorNetwork.vue","webpack:///./node_modules/core-js/modules/es.array.map.js"],"names":["$","aFunction","toObject","fails","arrayMethodIsStrict","test","nativeSort","sort","FAILS_ON_UNDEFINED","undefined","FAILS_ON_NULL","STRICT_METHOD","FORCED","target","proto","forced","comparefn","call","this","toAbsoluteIndex","toInteger","toLength","arraySpeciesCreate","createProperty","arrayMethodHasSpeciesSupport","arrayMethodUsesToLength","HAS_SPECIES_SUPPORT","USES_TO_LENGTH","ACCESSORS","0","1","max","Math","min","MAX_SAFE_INTEGER","MAXIMUM_ALLOWED_LENGTH_EXCEEDED","splice","start","deleteCount","insertCount","actualDeleteCount","A","k","from","to","O","len","length","actualStart","argumentsLength","arguments","TypeError","render","_vm","_h","$createElement","_c","_self","staticClass","_v","attrs","file","url","_s","node","label","model","value","callback","$$v","filename","expression","on","create","privacy","clear","copy","openCommand","ref","nodes","edges","options","selectNode","selectEdge","saveNode","saveEdge","edge","inputNew","saveCommand","command","staticRenderFns","data","commandHistory","methods","getInputType","iv","inputObject","isValidUrl","type","isFile","firstChar","charAt","last","catchCommande","s","p","o","traiteTriplet","catchTriplet","message","result","lastChar","slice","messageCut","split","isTriplet","detectLiteral","messageCutTemp","forEach","part","trim","startsWith","push","substr","endsWith","pop","indexOf","console","log","tripletvalue","subject","predicate","object","triplet","subjectNode","filter","el","objectNode","id","$refs","network","writeEdgeToFile","catchTriplet1","sujetNode","body","get","objetNode","sub_n","color","border","document","getElementById","background","add","obj_n","inherit","commande","style","display","downloadCanvas","exportTtl","n","cid","e","listeInfos","Array","listeComplementaire","i","sujet","propriete","replace","objet","sujetLabel","objetLabel","error","sujetWithPrefix","validRdf","proprieteWithPrefix","objetWithPrefix","typedeProp","indiceTypeDeProp","toLowerCase","uniq_fast","l","a","seen","out","j","item","string","valid","srcCanvas","childNodes","canvas","destinationCanvas","createElement","width","height","destCtx","getContext","fillStyle","fillRect","drawImage","image","toDataURL","tmpLink","download","href","appendChild","click","removeChild","pathname","URL","_","traiteInput","io","params","source","name","components","mixins","networkMixin","self","net","arrows","scaling","smooth","interaction","navigationButtons","manipulation","enabled","initiallyActive","addNode","editNode","addEdge","editEdge","created","folder","$store","state","solid","update","tmp_file","$bvModal","show","r","confirm","cb","editEdgeWithoutDrag","index","map","x","networkEvent","eventName","navigator","clipboard","writeText","copyText","then","app","makeToast","sendActivity","addTriplet","colorize","t","colorO","addOrNothingNode","propertyEdge","watch","computed","component","$map","callbackfn"],"mappings":"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","file":"js/chunk-1326938c.f44d98e4.js","sourcesContent":["'use strict';\nvar $ = require('../internals/export');\nvar aFunction = require('../internals/a-function');\nvar toObject = require('../internals/to-object');\nvar fails = require('../internals/fails');\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\n\nvar test = [];\nvar nativeSort = test.sort;\n\n// IE8-\nvar FAILS_ON_UNDEFINED = fails(function () {\n  test.sort(undefined);\n});\n// V8 bug\nvar FAILS_ON_NULL = fails(function () {\n  test.sort(null);\n});\n// Old WebKit\nvar STRICT_METHOD = arrayMethodIsStrict('sort');\n\nvar FORCED = FAILS_ON_UNDEFINED || !FAILS_ON_NULL || !STRICT_METHOD;\n\n// `Array.prototype.sort` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.sort\n$({ target: 'Array', proto: true, forced: FORCED }, {\n  sort: function sort(comparefn) {\n    return comparefn === undefined\n      ? nativeSort.call(toObject(this))\n      : nativeSort.call(toObject(this), aFunction(comparefn));\n  }\n});\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditorNetwork.vue?vue&type=style&index=0&lang=css&\"","'use strict';\nvar $ = require('../internals/export');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar toInteger = require('../internals/to-integer');\nvar toLength = require('../internals/to-length');\nvar toObject = require('../internals/to-object');\nvar arraySpeciesCreate = require('../internals/array-species-create');\nvar createProperty = require('../internals/create-property');\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('splice');\nvar USES_TO_LENGTH = arrayMethodUsesToLength('splice', { ACCESSORS: true, 0: 0, 1: 2 });\n\nvar max = Math.max;\nvar min = Math.min;\nvar MAX_SAFE_INTEGER = 0x1FFFFFFFFFFFFF;\nvar MAXIMUM_ALLOWED_LENGTH_EXCEEDED = 'Maximum allowed length exceeded';\n\n// `Array.prototype.splice` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.splice\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT || !USES_TO_LENGTH }, {\n  splice: function splice(start, deleteCount /* , ...items */) {\n    var O = toObject(this);\n    var len = toLength(O.length);\n    var actualStart = toAbsoluteIndex(start, len);\n    var argumentsLength = arguments.length;\n    var insertCount, actualDeleteCount, A, k, from, to;\n    if (argumentsLength === 0) {\n      insertCount = actualDeleteCount = 0;\n    } else if (argumentsLength === 1) {\n      insertCount = 0;\n      actualDeleteCount = len - actualStart;\n    } else {\n      insertCount = argumentsLength - 2;\n      actualDeleteCount = min(max(toInteger(deleteCount), 0), len - actualStart);\n    }\n    if (len + insertCount - actualDeleteCount > MAX_SAFE_INTEGER) {\n      throw TypeError(MAXIMUM_ALLOWED_LENGTH_EXCEEDED);\n    }\n    A = arraySpeciesCreate(O, actualDeleteCount);\n    for (k = 0; k < actualDeleteCount; k++) {\n      from = actualStart + k;\n      if (from in O) createProperty(A, k, O[from]);\n    }\n    A.length = actualDeleteCount;\n    if (insertCount < actualDeleteCount) {\n      for (k = actualStart; k < len - actualDeleteCount; k++) {\n        from = k + actualDeleteCount;\n        to = k + insertCount;\n        if (from in O) O[to] = O[from];\n        else delete O[to];\n      }\n      for (k = len; k > len - actualDeleteCount + insertCount; k--) delete O[k - 1];\n    } else if (insertCount > actualDeleteCount) {\n      for (k = len - actualDeleteCount; k > actualStart; k--) {\n        from = k + actualDeleteCount - 1;\n        to = k + insertCount - 1;\n        if (from in O) O[to] = O[from];\n        else delete O[to];\n      }\n    }\n    for (k = 0; k < insertCount; k++) {\n      O[k + actualStart] = arguments[k + 2];\n    }\n    O.length = len - actualDeleteCount + insertCount;\n    return A;\n  }\n});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"modele-view\"},[_vm._v(\" Reprendre network3 \"),_c('small',[_vm._v(\" File: \"),_c('a',{attrs:{\"href\":_vm.file.url,\"target\":\"_blank\"}},[_vm._v(_vm._s(_vm.file.url))]),_c('br'),_vm._v(\" Node: \"+_vm._s(_vm.node.label)),_c('br')]),_c('b-input',{attrs:{\"placeholder\":\"filename without spaces or any exotic char\"},model:{value:(_vm.filename),callback:function ($$v) {_vm.filename=$$v},expression:\"filename\"}}),_c('b-button',{on:{\"click\":_vm.create}},[_vm._v(\"New\")]),_c('b-form-checkbox',{staticClass:\"m-2\",attrs:{\"id\":\"checkbox-1\",\"name\":\"checkbox-1\",\"value\":\"public_write\",\"unchecked-value\":\"private_write\",\"checked\":\"\"},model:{value:(_vm.privacy),callback:function ($$v) {_vm.privacy=$$v},expression:\"privacy\"}},[_vm._v(\" Anyone can amend this file \")]),_c('b-button',{attrs:{\"size\":\"sm\",\"variant\":\"warning\"},on:{\"click\":_vm.clear}},[_vm._v(\"Clear\")]),_c('b-button',{attrs:{\"size\":\"sm\",\"variant\":\"success\"},on:{\"click\":_vm.copy}},[_vm._v(\"Copy\")]),_c('b-button',{attrs:{\"size\":\"sm\",\"variant\":\"success\"},on:{\"click\":_vm.openCommand}},[_vm._v(\"Command\")]),_c('network',{ref:\"network\",staticClass:\"wrapper\",attrs:{\"nodes\":_vm.nodes,\"edges\":_vm.edges,\"options\":_vm.options},on:{\"select-node\":_vm.selectNode,\"select-edge\":_vm.selectEdge}}),_c('NodeModal',{on:{\"ok\":_vm.saveNode},model:{value:(_vm.node),callback:function ($$v) {_vm.node=$$v},expression:\"node\"}}),_c('EdgeModal',{on:{\"ok\":_vm.saveEdge},model:{value:(_vm.edge),callback:function ($$v) {_vm.edge=$$v},expression:\"edge\"}}),_c('CommandModal',{attrs:{\"inputNew\":_vm.inputNew},on:{\"ok\":_vm.saveCommand},model:{value:(_vm.command),callback:function ($$v) {_vm.command=$$v},expression:\"command\"}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nexport default {\n  data() {\n    return {\n      commandHistory: []\n    }\n  },\n  methods: {\n    getInputType(iv){\n      var inputObject = {};\n\n      // si commence par http --> type = url\n      if (this.isValidUrl(iv)){\n        inputObject.type = \"url\";\n        inputObject.value = iv;\n        inputObject.isFile = this.isFile(iv)\n      }else{\n        // selon le premier charactère, on detecte une commande\n        let firstChar = iv.charAt(0);\n        let last = \"\"\n        switch(firstChar){\n          case '/':\n          //    let commande = rdf.quad(rdf.blankNode(), rdf.namedNode('commande'),rdf.literal(message))\n          //  this.catchCommande(message,this.network,this);\n\n          inputObject.type = \"commande\";\n          inputObject.value = iv;\n          inputObject.inputNew = \"\";\n          this.catchCommande(inputObject)\n          break;\n\n          case '.':\n          last = this.commandHistory[this.commandHistory.length-1];\n          inputObject.inputNew = last.s+\" \"+last.p+\" \"+last.o;\n          break;\n\n          case ';':\n          last = this.commandHistory[this.commandHistory.length-1];\n          inputObject.inputNew = last.s+\" \"+last.p+\" \";\n          break;\n\n          case ',':\n          last = this.commandHistory[this.commandHistory.length-1];\n          inputObject.inputNew = last.s+\" \";\n          break;\n\n\n          default:\n          // si le premier charactère n'indique pas une commande, on traite comme un triplet\n          inputObject = this.traiteTriplet(iv);\n          this.catchTriplet(inputObject)\n          //  console.log(\"TODO is catchTriplet Necessaire ici ?\")\n        }\n      }\n\n      //si termine par virgule, point, point-virgule, tiret --> triplet\n\n      return inputObject;\n    },\n    traiteTriplet(message){\n      var result = {}\n      var inputNew = \"\";\n      let lastChar = message.slice(-1);\n      let messageCut = message.slice(0,-1).split(\" \");\n      let isTriplet = true;\n      //  console.log(messageCut);\n\n      let detectLiteral = \"\";\n      let messageCutTemp = [];\n      messageCut.forEach(function(part){\n        part = part.trim();\n        //  console.log(part);\n        if (part.startsWith('\"')){\n          detectLiteral =\"debut\";\n          //  console.log(detectLiteral);\n          messageCutTemp.push(part.substr(1));\n        }else if (part.endsWith('\"')){\n          detectLiteral = \"fin\";\n          //console.log(detectLiteral);\n          messageCutTemp.push(messageCutTemp.pop()+\" \"+part.slice(0,-1));\n        }else if (detectLiteral == \"debut\"){\n          //  console.log(\"recupere le dernier et lui ajoute part\" )\n          messageCutTemp.push(messageCutTemp.pop()+\" \"+part)\n        }else {\n          messageCutTemp.push(part);\n        }\n      });\n      if (messageCutTemp.length > 0){\n        messageCut = messageCutTemp;\n      }\n      switch(lastChar){\n        case '.':\n        inputNew = \"\";\n        break;\n        case ';':\n        if (messageCut[0].indexOf(\" \") > -1){\n          inputNew = '\"'+messageCut[0]+'\"'+' ';\n        }else{\n          inputNew = messageCut[0]+' ';\n        }\n        break;\n        case ',':\n        if (messageCut[0].indexOf(\" \") > -1){\n          inputNew = '\"'+messageCut[0]+'\" ';\n        }else{\n          inputNew = messageCut[0]+' ';\n        }\n        if (messageCut[1].indexOf(\" \") > -1){\n          inputNew += '\"'+messageCut[1]+'\" ';\n        }else{\n          inputNew += messageCut[1]+' ';\n        }\n        break;\n        case '-':\n        if (messageCut[2].indexOf(\" \") > -1){\n          inputNew = '\"'+messageCut[2]+'\"'+' ';\n        }else{\n          inputNew = messageCut[2]+' ';\n        }\n        break;\n        default:\n        console.log(\"message to chat \"+message)\n        //this.sendMessage(message);\n        //  this.agentInput.send('agentSocket', {type: \"sendMessage\", message:message});\n        //  this.catchTriplet(message.slice(0,-1), this.network); // A REMPLACER PAR CATCHTRIPLETS V2\n        inputNew = \"\";\n        isTriplet = false;\n      }\n      if (isTriplet){\n        //  console.log(\"est Triplet\",messageCut)\n        result.type = \"triplet\";\n        var tripletvalue = {};\n        tripletvalue.subject = messageCut[0];\n        tripletvalue.predicate = messageCut[1];\n        tripletvalue.object = messageCut[2];\n        result.value = tripletvalue;\n        result.inputNew = inputNew;\n      }else {\n        //  console.log(\"n'est pas triplet\")\n        result.type = \"message\";\n        result.value = message;\n        result.inputNew = inputNew;\n      }\n\n      return result;\n    },\n\n    catchTriplet(triplet){\n      var subject = triplet.value.subject;\n      var predicate = triplet.value.predicate;\n      var object = triplet.value.object;\n\n      let subjectNode  = this.nodes.filter(function(el) {\n        return el.label == subject\n      });\n      let objectNode  = this.nodes.filter(function(el) {\n        return el.label == object\n      });\n      console.log(predicate, subjectNode, objectNode)\n      if(subjectNode.length == 0 ){\n        subjectNode = {id:this.file.url+\"#\"+subject , label:subject}\n        // let res =\n        //  this.$refs.network.nodes.add(subjectNode)\n        this.nodes.push(subjectNode)\n        //  console.log(this.nodes[res])\n        //  subjectNode = this.$refs.network.body.data.nodes.add(subjectNode)\n\n      }\n      if (  objectNode.length == 0){\n        objectNode = {id:this.file.url+\"#\"+object, label: object}\n        // let res =\n        this.nodes.push(objectNode)\n      //  this.$refs.network.nodes.add(objectNode)\n\n        //  console.log(this.nodes[res])\n        //  objectNode = this.$refs.network.body.data.nodes.add(objectNode)\n      }\n      console.log(this.$refs.network.nodes)\n      subjectNode  = this.$refs.network.nodes.filter(function(el) {\n        return el.label == subject\n      });\n      objectNode  = this.$refs.network.nodes.filter(function(el) {\n        return el.label == object\n      });\n      subjectNode = subjectNode[0]\n      objectNode = objectNode[0]\n      console.log(subjectNode, objectNode)\n      let   edge = {from: subjectNode.id, to:objectNode.id, label: predicate}\n      this.edges.push(edge)\n      console.log(edge)\n      this.writeEdgeToFile(edge)\n\n\n      // let edge = this.edges.filter(function(e) {\n      //   return (e.from == subjectNode.id && e.to == objectNode.id && e.label == predicate);\n      // })\n      // console.log(edge)\n      // if (edge.length == 0){\n      //   edge = {from: subjectNode.id, to:objectNode.id, label: predicate}\n      //   this.edges.push(edge)\n      //   console.log(edge)\n      //   this.writeEdgeToFile(edge)\n      // }\n\n\n\n\n    },\n\n\n    catchTriplet1(triplet){\n      //  console.log(triplet)\n      var subject = triplet.value.subject;\n      var predicate = triplet.value.predicate;\n      var object = triplet.value.object;\n      // console.log(message.length);\n      //message=message.trim();\n      //var tripletString = message.substring(2).trim().split(\" \");\n      // les noeuds existent-ils ?\n      var sujetNode = this.network.body.data.nodes.get({\n        filter: function(node){\n          //    console.log(node);\n          return (node.label == subject );\n        }\n      });\n      var objetNode = this.network.body.data.nodes.get({\n        filter: function(node){\n          //    console.log(node);\n          return (node.label == object);\n        }\n      });\n      //  console.log(sujetNode);\n      //  console.log(objetNode);\n      // sinon, on les créé\n      if (sujetNode.length == 0){\n        var sub_n = {label: subject, color:{\n          border : document.getElementById(\"bordercolorpicker\").value ,\n          background : document.getElementById(\"bodycolorpicker\").value }\n        };\n        this.network.body.data.nodes.add(sub_n);\n      }\n      if (objetNode.length == 0){\n        var obj_n = {label: object, color:{\n          border : document.getElementById(\"bordercolorpicker\").value ,\n          background : document.getElementById(\"bodycolorpicker\").value }\n        };\n        this.network.body.data.nodes.add(obj_n);\n      }\n      // maintenant ils doivent exister, pas très po=ropre comme méthode , à revoir\n      sujetNode = this.network.body.data.nodes.get({\n        filter: function(node){\n          return (node.label == subject );\n        }\n      });\n      objetNode = this.network.body.data.nodes.get({\n        filter: function(node){\n          //  console.log(node);\n          return (node.label == object);\n        }\n      });\n      this.network.body.data.edges.add({\n        label: predicate,\n        from : sujetNode[0].id,\n        to : objetNode[0].id,\n        color: {inherit:'both'}\n\n      });\n      //on récupère ce edge pour l'envoyer au serveur\n      var edge = this.network.body.data.edges.get({\n        filter: function(edge) {\n          return (edge.from == sujetNode[0].id && edge.to == objetNode[0].id && edge.label == predicate);\n        }\n      });\n      console.log(\"EDGE is necessaire ici ?\",edge)\n      //  console.log(\"OK\",autofit,autofocus)\n      //this.network.fit();\n      //  fitAndFocus(sujetNode[0].id);\n\n    },\n\n\n\n    catchCommande(commande){\n      console.log(commande)\n      switch(commande.value) {\n        case \"/h\":\n        case \"/help\":\n        case \"/aide\":\n        //console.log(this.$.dialogs)\n        console.log(\"help\")\n        //  this.$.dialogs.$.helpPopUp.toggle();\n        //  this.agentInput.send('agentDialogs', {type:'toggle', popup: 'helpPopUp'})\n        break;\n        case \"/e\":\n        case \"/export\":\n        case \"/exportJson\":\n        console.log(\"exportjson\")\n        //  this.exportJson(this.network)\n        //this.exportJson();\n        //  this.agentInput.send('agentGraph', {type: 'exportJson'})\n        //this.agentInput.send(\"agentVis\", {type: 'exportJson'});\n        break;\n        case \"/t\":\n        console.log(\"exportTtl\")\n        //  this.exportTtl(this.network)\n        //  this.exportTtl(this.network,this);\n        //  this.agentInput.send('agentGraph', {type:'exportTtl'}); // , what: 'network', to: 'agentDialogs', where: 'inputTextToSave'\n        //    this.agentInput.send('agentDialogs', {type:'toggle', popup: 'popupTtl'})\n        //  this.agentInput.send(\"agentVis\", {type: 'exportTtl'});\n        break;\n        case \"/i\":\n        case \"/import\":\n        case \"/importJson\":\n        console.log(\"import\");\n        document.getElementById('import-popUp').style.display = 'block';\n        break;\n        case \"/p\":\n        console.log(\"save_to_pod\");\n        document.getElementById('select-pod-popUp').style.display = 'block';\n        break;\n        case \"/a\":\n        console.log(\"open editor\");\n        document.getElementById('editeur-popUp').style.display = 'block';\n        /*  const editorDialog = new mdc.dialog.MDCDialog(document.getElementById('editor_dialog'));\n        editorDialog.open();*/\n        //  document.getElementById('select-pod-popUp').style.display = 'block';\n        break;\n        case \"/r\":\n        console.log(\"reglages editor\");\n        // const reglagesDialog = new mdc.dialog.MDCDialog(document.getElementById('reglages_dialog'));\n        // reglagesDialog.open();\n        //  document.getElementById('select-pod-popUp').style.display = 'block';\n        break;\n        case \"/n\":\n        console.log(\"new graph\");\n        //  newGraph();\n        this.clear()\n        //  level < 6? increaseLevel() : \"\";\n        break;\n        case \"/l\":\n        console.log(\"connection a la base levelgraph\");\n        break;\n        case \"/c\":\n        //  console.log(\"capture_graphe\");\n        this.downloadCanvas()\n        break;\n        default:\n        console.log(\"non traite\"+ commande);\n        //  return afficheCommandes();\n      }\n    },\n    //###############################################################################\n    //Sous cette ligne, review de code a faire\n    //###############################################################################\n\n\n    // exportJson(network) {\n    //\n    //   var nodes_edges = { nodes: network.body.data.nodes.get(), edges: network.body.data.edges.get() };\n    //   //  console.log(nodes_edges);\n    //   var nodes_edgesJSON = JSON.stringify(nodes_edges);\n    //   updateEditorFromNetwork(nodes_edgesJSON)\n    //\n    // },\n    exportTtl(network) {\n      /* source https://github.com/scenaristeur/dreamcatcherAutonome/blob/master/autonome/public/agents/ExportAgent.js */\n      //  let network = this.network;\n      //  var nodes = network.body.data.nodes.get();\n      //var edges = network.body.data.edges.get();\n      // on ne prend pas le cluster cid=1 correspondant à la navigation pour l'export\n      var nodes = network.body.data.nodes.get({\n        filter: function (n) {\n          return (n.cid != 1);\n        }\n      });\n      var edges = network.body.data.edges.get({\n        filter: function (e) {\n          return (e.cid != 1);\n        }\n      });\n      console.log(\"exportation\");\n      console.log(nodes);\n      console.log(edges);\n      //creation des statements (triplets)\n      /*var statements = [];\n      for (var j = 0; j < edges.length; j++){\n      var edge = edges[j];\n      console.log(edge);\n      statements.push({sujet: node.id, propriete: \"rdfs:label\", objet: node.label});\n    }\n    console.log(statements);*/\n\n    var output = \"@prefix : <http://smag0.blogspot.fr/spoggy#> . \\n\";\n    output += \"@prefix owl: <http://www.w3.org/2002/07/owl#> . \\n\";\n    output += \"@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> . \\n\";\n    output += \"@prefix xml: <http://www.w3.org/XML/1998/namespace> . \\n\";\n    output += \"@prefix xsd: <http://www.w3.org/2001/XMLSchema#> . \\n\";\n    output += \"@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> . \\n\";\n    output += \"@prefix smag: <http://smag0.blogspot.fr/spoggy#> . \\n\";\n    output += \"@base <http://smag0.blogspot.fr/spoggy> . \\n\";\n    //output += \"<http://smag0.blogspot.fr/spoggy> rdf:type owl:Ontology ;  \\n\";\n    //output += \"                    owl:versionIRI <http://smag0.blogspot.fr/spoggy/1.0.0> . \\n\";\n    output += \" \\n\";\n    //output += \"owl:Class rdfs:subClassOf owl:Thing .  \\n\";\n\n    var listeInfos = new Array();\n    var listeComplementaire = new Array();\n\n    for (var i = 0; i < edges.length; i++) {\n      var edge = edges[i];\n\n      var sujet = edge.from;\n      var propriete = edge.label.replace(/\\s/g, \"_\");\n      var objet = edge.to;\n\n\n      //string.indexOf(substring) > -1\n      //console.log(sujet);\n      //console.log(propriete);\n      console.log(objet);\n\n      // AJOUTER EVENTUELLEMENT LA RECUPERATION DE SHAPE, COLOR, pour l'export RDF\n      var sujetLabel = network.body.data.nodes.get(sujet).label.replace(/\\n/g, \"\");\n      try{\n        var objetLabel = network.body.data.nodes.get(objet).label.replace(/\\n/g, \"\");\n      }catch(error)\n      {\n        console.error(\"ERREUR NONTRAITEE\")\n        console.error(error)\n\n      }\n\n      //console.log(\"#########################\");\n      //console.log(sujetLabel);\n      //console.log(objetLabel)\n      //console.log(\"#########################\");\n\n      var sujetWithPrefix = this.validRdf(network, sujet);\n      var proprieteWithPrefix = this.validRdf(network, propriete);\n      var objetWithPrefix = this.validRdf(network, objet);\n\n      if (sujetWithPrefix.indexOf(':') == -1) { // ne contient pas de ':'\n        sujetWithPrefix = '_:' + sujetWithPrefix; // blanknode\n      }\n\n      if (proprieteWithPrefix.indexOf(':') == -1) { // ne contient pas de ':'\n        proprieteWithPrefix = ':' + proprieteWithPrefix; // propriete utilisant \"@base <http://smag0.blogspot.fr/spoggy>\"\n\n      }\n\n      if (objetWithPrefix.indexOf(':') == -1) { // ne contient pas de ':'\n        objetWithPrefix = '_:' + objetWithPrefix;  // blanknode\n      }\n\n\n      var typedeProp = [\"owl:AnnotationProperty\", \"owl:ObjectProperty\", \"owl:DatatypeProperty\"];\n      var indiceTypeDeProp = 1; // -1 pour ne pas ajouter la prop, sinon par defaut en annotationProperty, 1 pour Object, 2 pour Datatype --> revoir pour les datatypes\n\n      if (\n        (proprieteWithPrefix == \"type\") ||\n        (proprieteWithPrefix == \":type\") ||\n        (proprieteWithPrefix == \"rdf:type\") ||\n        (proprieteWithPrefix == \":a\") ||\n        (proprieteWithPrefix == \":est_un\") ||\n        (proprieteWithPrefix == \":est_une\") ||\n        (proprieteWithPrefix == \":is_a\")\n      ) {\n        proprieteWithPrefix = \"rdf:type\";\n        listeComplementaire.push(objetWithPrefix + \" rdf:type owl:Class . \\n\");\n        indiceTypeDeProp = 1;\n      } else if ((proprieteWithPrefix == \"subClassOf\") || (proprieteWithPrefix == \":subClassOf\") || (proprieteWithPrefix == \"rdfs:subClassOf\")) {\n        proprieteWithPrefix = \"rdfs:subClassOf\";\n      }\n      else if ((proprieteWithPrefix == \"sameAs\") || (proprieteWithPrefix == \":sameAs\")) {\n        proprieteWithPrefix = \"owl:sameAs\";\n        indiceTypeDeProp = -1;\n      }\n      else if (\n        (proprieteWithPrefix.toLowerCase() == \"ispartof\") ||\n        (proprieteWithPrefix.toLowerCase() == \"partof\") ||\n        (proprieteWithPrefix.toLowerCase() == \":partof\") ||\n        (proprieteWithPrefix.toLowerCase() == \":ispartof\")) {\n          proprieteWithPrefix = \"smag:partOf\";\n          indiceTypeDeProp = 1;\n        } else if (\n          (proprieteWithPrefix.toLowerCase() == \"comment\") ||\n          (proprieteWithPrefix.toLowerCase() == \"commentaire\") ||\n          (proprieteWithPrefix.toLowerCase() == \"//\") ||\n          (proprieteWithPrefix.toLowerCase() == \"#\")\n        ) {\n          proprieteWithPrefix = \"rdfs:comment\";\n          indiceTypeDeProp = -1;\n        }\n        if (indiceTypeDeProp >= 0) {\n          listeComplementaire.push(proprieteWithPrefix + \" rdf:type \" + typedeProp[indiceTypeDeProp] + \" . \\n\");\n        }\n        var data = sujetWithPrefix + \" \" + proprieteWithPrefix + \" \" + objetWithPrefix + \" . \\n\";\n        data += sujetWithPrefix + \" \" + \"rdfs:label \\\"\" + sujetLabel + \"\\\" . \\n\";\n        data += objetWithPrefix + \" \" + \"rdfs:label \\\"\" + objetLabel + \"\\\" . \\n\";\n        listeInfos[i] = data;\n        console.log(data);\n        console.log(\"||||||||||||||||||||||--\");\n      }\n      //console.log(listeInfos);\n      //console.log(listeComplementaire);\n      //suppression des doublons\n      listeInfos = this.uniq_fast(listeInfos.sort());\n      listeComplementaire = this.uniq_fast(listeComplementaire.sort());\n      // console.log (listeInfos);\n      for (var k = 0; k < listeInfos.length; k++) {\n        output = output + listeInfos[k];\n        //  console.log(output);\n      }\n\n      for (var l = 0; l < listeComplementaire.length; l++) {\n        output = output + listeComplementaire[l];\n        //  console.log(output);\n      }\n      //  updateEditorFromNetworkTtl(output)\n      //this.$.dialogs.$.inputTextToSave.value = output; //     document.getElementById(\"inputTextToSave\").value =output;\n      /*this.$.dialogs.$.popupTtl.fitInto = this.$.dialogs.$.menu;*/\n      //this.$.dialogs.$.popupTtl.toggle();\n      //console.log(output)\n\n      //this.agentGraph.send('agentDialogs', {type:'exportTtl', ttlData : output});\n    },\n    uniq_fast(a) {\n      var seen = {};\n      var out = [];\n      var len = a.length;\n      var j = 0;\n      for(var i = 0; i < len; i++) {\n        var item = a[i];\n        if(seen[item] !== 1) {\n          seen[item] = 1;\n          out[j++] = item;\n        }\n      }\n      return out;\n    },\n\n    validRdf(network, string){\n      // A REVOIR\n      console.log(network.body.data.nodes.get(string));\n      console.log(\"nettoyage \"+ string);\n      // transformer le noeud en noeud rdf (resource ou literal)\n      // ajouter la construction du noeud, son uri, prefix, localname, type...\n      var valid = {};\n      valid.type = \"uri\";\n      if (string.indexOf(\" \") !== -1){\n        valid.type = \"literal\";\n      }else{\n        /*\n        replaceAll(string, \" \",\"_\");\n        replaceAll(string, \"\",\"_\");\n        replaceAll(string, \",\",\"_\");\n        replaceAll(string, \";\",\"_\");\n        replaceAll(string, \" \",\"_\");*/\n      }\n\n      return string;\n    },\n    downloadCanvas(){\n      // get canvas data\n      var srcCanvas = document.getElementById( 'mynetwork' ).childNodes[0].canvas;\n      console.log(srcCanvas)\n      let  destinationCanvas = document.createElement(\"canvas\");\n      destinationCanvas.width = srcCanvas.width;\n      destinationCanvas.height = srcCanvas.height;\n\n      let  destCtx = destinationCanvas.getContext('2d');\n\n      //create a rectangle with the desired color\n      destCtx.fillStyle = \"#FFFFFF\";\n      destCtx.fillRect(0,0,srcCanvas.width,srcCanvas.height);\n\n      //draw the original canvas onto the destination canvas\n      destCtx.drawImage(srcCanvas, 0, 0);\n\n      //finally use the destinationCanvas.toDataURL() method to get the desired output;\n\n      var image =   destinationCanvas.toDataURL(); //canvas.toDataURL(\"image/png\");\n\n      // create temporary link\n      var tmpLink = document.createElement( 'a' );\n      tmpLink.download = 'image.png'; // set the name of the download file\n      tmpLink.href = image;\n\n      // temporarily add link to body and initiate the download\n      document.body.appendChild( tmpLink );\n      tmpLink.click();\n      document.body.removeChild( tmpLink );\n    },\n    isFile(pathname) {\n      return pathname.split('/').pop().indexOf('.') > -1;\n    },\n\n    isValidUrl(string){\n      try {\n        new URL(string);\n        return true;\n      } catch (_) {\n        return false;\n      }\n    },\n    traiteInput(io){\n      console.log(io)\n      switch(io.type) {\n        case \"commande\":\n        //this.catchCommande(message, this.network, this);\n        // code block\n        break;\n        case \"triplet\":\n        // code block\n        break;\n        case \"url\":\n        // code block\n        var params = io;\n        params.source = io.value;\n        console.log(\"IMPORTER, see spoggy-simple /js/import-export\")\n        //  importer(params,updateGraph)\n        break;\n        default:\n        // code block\n      }\n    }\n\n  }\n\n\n}\n","<template>\n  <div class=\"modele-view\">\n    Reprendre network3\n    <!--  <Component /> -->\n    <small>\n      File: <a :href=\"file.url\" target=\"_blank\">{{ file.url }}</a><br>\n      Node: {{node.label}}<br>\n    </small>\n\n    <!--  <b-button v-b-modal.node-popup>Launch demo modal</b-button>\n    <b-button v-b-modal.edge-popup>Launch demo modal</b-button>-->\n\n    <b-input placeholder=\"filename without spaces or any exotic char\" v-model=\"filename\" />\n    <b-button @click=\"create\">New</b-button>\n    <b-form-checkbox class=\"m-2\"\n    id=\"checkbox-1\"\n    v-model=\"privacy\"\n    name=\"checkbox-1\"\n    value=\"public_write\"\n    unchecked-value=\"private_write\"\n    checked> Anyone can amend this file\n  </b-form-checkbox>\n\n  <b-button @click=\"clear\" size=\"sm\" variant=\"warning\">Clear</b-button>\n  <b-button @click=\"copy\"  size=\"sm\" variant=\"success\">Copy</b-button>\n  <b-button @click=\"openCommand\" size=\"sm\" variant=\"success\">Command</b-button>\n\n  <network ref=\"network\"\n  class=\"wrapper\"\n  :nodes=\"nodes\"\n  :edges=\"edges\"\n  :options=\"options\"\n  @select-node=\"selectNode\"\n  @select-edge=\"selectEdge\">\n</network>\n<!-- @select=\"networkEvent('select')\" -->\n<!--  @nodes-mounted=\"networkEvent('nodes-mounted')\"\n@nodes-add=\"addNode\"\n@nodes-update=\"updateNode\"\n@nodes-remove=\"removeNode\"\n@edges-mounted=\"networkEvent('edges-mounted')\"\n@edges-add=\"addEdge\"\n@edges-update=\"updateEdge\"\n@edges-remove=\"removeEdge\"-->\n\n<NodeModal v-model=\"node\" @ok=\"saveNode\"/>\n<EdgeModal v-model=\"edge\" @ok=\"saveEdge\"/>\n<CommandModal v-model=\"command\" :inputNew=\"inputNew\" @ok=\"saveCommand\"/>\n\n</div>\n</template>\n\n<script>\nimport \"vue-vis-network/node_modules/vis-network/dist/vis-network.css\";\n\nimport {  fetchDocument, createDocument } from 'tripledoc';\nimport { foaf, rdfs, dct, rdf } from 'rdf-namespaces'\nimport \"vue-vis-network/node_modules/vis-network/dist/vis-network.css\";\nimport {\n  getSolidDatasetWithAcl,\n  hasResourceAcl,\n  hasFallbackAcl,\n  hasAccessibleAcl,\n  //  createAcl,\n  createAclFromFallbackAcl,\n  getResourceAcl,\n  setPublicResourceAccess,\n  setAgentResourceAccess,\n  saveAclFor,\n} from \"@inrupt/solid-client\";\nimport networkMixin from '@/mixins/networkMixin'\nimport ActivityMixin from '@/mixins/ActivityMixin'\nimport ToastMixin from '@/mixins/ToastMixin'\nimport TripleMixin from '@/mixins/TripleMixin'\n\nexport default {\n  name: 'EditorNetwork',\n  components: {\n    'NodeModal': () => import('@/components/network/NodeModal'),\n    'EdgeModal': () => import('@/components/network/EdgeModal'),\n    'CommandModal': () => import('@/components/network/CommandModal'),\n  },\n  mixins: [networkMixin, ActivityMixin, ToastMixin, TripleMixin],\n  data() {\n    return {\n      //  file: {url:\"file_url\"},\n      self:this,\n      node: {label: \"node_label\"},\n      edge: {},\n      filename: \"new_graph.ttl\",\n      privacy: \"public_write\",\n      net: {},\n      command: \"\",\n      inputNew:\"\",\n      nodes: [\n        {id: 1,  label: 'circle',  shape: 'circle' },\n        {id: 2,  label: 'ellipse', shape: 'ellipse'},\n        {id: 3,  label: 'database',shape: 'database'},\n        {id: 4,  label: 'box',     shape: 'box'    },\n        {id: 5,  label: 'diamond', shape: 'diamond'},\n        {id: 6,  label: 'dot',     shape: 'dot'},\n        {id: 7,  label: 'square',  shape: 'square'},\n        {id: 8,  label: 'triangle',shape: 'triangle'},\n      ],\n      edges: [\n        {from: 1, to: 2},\n        {from: 2, to: 3},\n        {from: 2, to: 4},\n        {from: 2, to: 5},\n        {from: 5, to: 6},\n        {from: 5, to: 7},\n        {from: 6, to: 8}\n      ],\n      options: {\n        // locale: navigator.language,\n        // nodes: {\n        // //  borderWidth: 1\n        // },\n        edges:{\n          arrows: 'to',\n          //  color: 'red',\n          //  font: '12px arial #ff0000',\n          //  shadow: true,\n          //   font: '12px arial #ff0000',\n          scaling:{\n            label: true,\n          },\n          smooth: true,\n        },\n        interaction: {\n          navigationButtons: true,\n          //  keyboard: true\n        },\n        manipulation: {\n          enabled: true,\n          initiallyActive: true,\n          addNode: async (node, callback) => {\n            this.addNode(node, callback)\n          },\n          editNode: async (node, callback) => {\n            this.editNode(node, callback)\n          },\n          addEdge: async (node, callback) => {\n            this.addEdge(node, callback)\n          },\n          editEdge: async (node, callback) => {\n            this.editEdge(node, callback)\n          },\n\n        }\n      }\n    }\n  },\n  created(){\n    this.folder = this.$store.state.solid.folder\n    //console.log(this.file.url)\n    this.update()\n    //  console.log(\"route\",this.$route)\n    //  this.url = this.$route.params.url\n    //  this.getData()\n  },\n  methods: {\n    selectNode(e){\n      //console.log(e)\n      //console.log(e.nodes[0])\n      try{\n        this.file = {}\n        this.file.url = e.nodes[0]\n        this.update()\n      }catch(e){\n        console.log(e)\n      }\n    },\n    selectEdge(e){\n      //console.log(e)\n      console.log(e.edges[0])\n    },\n    saveCommand(command){\n      //console.log(\"COMMAND\",command)\n      let inputObject = this.getInputType(command)\n      //console.log(\"inputObject\",inputObject);\n      this.traiteInput(inputObject);\n      this.inputNew = inputObject.inputNew\n      //console.log(this.inputNew)\n      //  this.updateInput(inputObject.inputNew)\n    },\n    addNode(node, callback){\n      //  callback() // Node will be added via reactivity from Vuex\n      if (this.tmp_file != null ){\n        this.file = this.tmp_file\n      }\n      node.id = this.file.url+\"#\"+node.id\n      node.label = \"\"\n      //console.log(node)\n      this.editNode(node, callback)\n    },\n    editNode(n/*,cb*/){\n      //console.log(\"EDIT NODE\",n,cb)\n      this.node = n\n      this.$bvModal.show(\"node-popup\")\n    },\n    addEdge(e,cb){\n      //console.log(\"add edge\",e,cb)\n      this.edge = e\n      if (e.from == e.to) {\n        var r = confirm(\"Do you want to connect the node to itself?\");\n        if (r != true) {\n          cb(null);\n          return;\n        }\n      }\n      this.editEdgeWithoutDrag(e, cb);\n    },\n    editEdge(e,cb){\n      //console.log(\"EDIT edge\",e,cb)\n      this.editEdgeWithoutDrag(e, cb);\n    },\n    editEdgeWithoutDrag(edge, callback){\n      //\n      //console.log(\"edit editWithoutDrag\",edge)\n      /*      // filling in the popup DOM elements\n      document.getElementById('edge-label').value = data.label;\n      document.getElementById('edge-saveButton').onclick = this.saveEdgeData.bind(this, data, callback);\n      document.getElementById('edge-cancelButton').onclick = this.cancelEdgeEdit.bind(this,callback);\n      document.getElementById('edge-popUp').style.display = 'block';\n      */\n      this.edge = edge\n      this.$bvModal.show(\"edge-popup\")\n      //console.log(edge, callback)\n      callback()\n    },\n\n    saveNode(n){\n      //console.log(\"saveNode\",n)\n      var index = this.nodes.map(x => {\n        return x.id;\n      }).indexOf(n.id);\n      //console.log(index)\n      if(index > -1){\n        this.nodes.splice(index, 1);\n        //console.log(  this.nodes[index])\n        this.nodes[index].label = n.label\n      }else{\n        this.nodes.push(n)\n      }\n    },\n    saveEdge(e){\n      var index = this.edges.map(x => {\n        return x.id;\n      }).indexOf(e.id);\n      //console.log(index)\n      if(index > -1){\n        //console.log(  this.edges[index])\n        this.edges[index].label = e.label\n      }else{\n        this.edges.push(e)\n        this.writeEdgeToFile(e)\n      }\n    },\n\n    async  writeEdgeToFile(e){\n      if (this.tmp_file != null){\n        this.file = this.tmp_file\n      }\n      //console.log(e)\n      let subject  = this.nodes.filter(function(el) {\n        return el.id == e.from\n      });\n      let object  = this.nodes.filter(function(el) {\n        return el.id == e.to\n      });\n      //console.log(subject[0], e, object[0])\n\n      //let identifier = subject[0].id.indexOf(this.file) > 0 ? subject[0].id.split('#') : subject[0].id\n\n\n      let subj_identifier = subject[0].id.includes(this.file.url) ? subject[0].id.split('#')[1] : subject[0].id\n      let obj_identifier = object[0].id.includes(this.file.url) ? object[0].id.split('#')[1] : object[0].id\n\n\n      var dateObj = new Date();\n      var date = dateObj.toISOString()\n      let doc =  await fetchDocument(this.file.url)\n      //console.log(doc)\n      let subj = doc.addSubject({identifier: subj_identifier})\n      subj.addString(rdfs.label, subject[0].label)\n\n      subj.addString(dct.modified, date)\n\n      subj.addRef(foaf.maker, this.webId)\n\n\n      subj.addRef(this.file.url+\"#\"+e.label, object[0].id)\n      //subj.addRef(this.file.url+\"#\"+e.label, obj_identifier)\n      let obj = doc.addSubject({identifier: obj_identifier})\n      obj.addString(rdfs.label, object[0].label)\n      doc.save()\n    },\n    networkEvent(eventName,e) {\n      console.log(eventName,e)\n    },\n    copy(){\n      let copyText = \"https://scenaristeur.github.io/solid-vue-panes/view/\"+this.file.url //window.location.href\n      let app = this\n      //  !copyText.endsWith(\".ttl\") ?\n      //copyText = copyText+this.file.url //: \"\"\n      //  console.log(copyText)\n      navigator.clipboard.writeText(copyText).then(function() {\n        /* clipboard successfully set */\n        //  console.log(\"clipok\", copyText)\n        app.makeToast(\"The url is in your clipboard ;-)\", copyText+\".               Use Ctrl+V to share it\", \"success\")\n      }, function() {\n        /* clipboard write failed */\n        //  console.log(\"clipERROR\", copyText)\n        app.makeToast(\"Houston, we've got a problem with the clipboard ;-(\", copyText, \"warning\")\n      })\n\n    },\n\n    async  create(){\n      this.clear()\n      // //console.log(this.file)\n      // //console.log(this.newfile)\n      // //console.log(this.folder)\n      //    console.log(this.privacy)\n      this.tmp_file = {}\n      this.filename = this.filename.split(' ').join('_');\n\n      this.tmp_file.name =  this.filename.endsWith('.ttl') ? this.filename : this.filename+\".ttl\"\n      this.tmp_file.url = this.folder.url+this.tmp_file.name\n      //console.log(this.tmp_file)\n      this.thisNode = {id:this.tmp_file.url+\"#this\", label: this.filename}\n      this.nodes.push(this.thisNode)\n\n      let doc = {}\n      //console.log(this.file.url)\n      let exist = false\n      try{\n        doc =  await fetchDocument(this.tmp_file.url)\n        exist = true\n      }catch(e){\n        doc =  await createDocument(this.tmp_file.url)\n        exist = false\n\n      }\n\n      var dateObj = new Date();\n      var date = dateObj.toISOString()\n      //let doc =  await fetchDocument(this.file.url)\n      //console.log(doc)\n      let subj = doc.addSubject({identifier: \"this\"})\n\n      if(exist == false){\n        let this_label = this.thisNode.label\n        subj.addString(rdfs.label, this_label)\n        subj.addString(dct.created, date)\n        subj.addRef(rdf.type, \"https://scenaristeur.github.io/solid-vue-panes/Network\")\n        //console.log(\"file created\", this.tmp_file.url)\n\n      }else{\n        subj.addString(dct.modified, date)\n        //console.log(\"file modified\", this.tmp_file.url)\n\n      }\n      subj.addRef(foaf.maker, this.webId)\n      //console.log(\"one\")\n      //  let s =\n      await  doc.save()\n      //console.log(\"two\", s)\n\n      if(this.privacy == \"public_write\"){\n\n        //console.log(this.tmp_file.url)\n        const myDatasetWithAcl = await getSolidDatasetWithAcl(this.tmp_file.url);\n        //console.log(myDatasetWithAcl)\n        // Obtain the SolidDataset's own ACL, if available,\n        // or initialise a new one, if possible:\n        let resourceAcl;\n        if (!hasResourceAcl(myDatasetWithAcl)) {\n          if (!hasAccessibleAcl(myDatasetWithAcl)) {\n            throw new Error(\n              \"The current user does not have permission to change access rights to this Resource.\"\n            );\n          }\n\n          if (!hasFallbackAcl(myDatasetWithAcl)) {\n            throw new Error(\n              \"The current user does not have permission to see who currently has access to this Resource.\"\n            );\n            // Alternatively, initialise a new empty ACL as follows,\n            // but be aware that if you do not give someone Control access,\n            // **nobody will ever be able to change Access permissions in the future**:\n            // resourceAcl = createAcl(myDatasetWithAcl);\n          }\n          resourceAcl = createAclFromFallbackAcl(myDatasetWithAcl);\n          //console.log(\"create\")\n        } else {\n          resourceAcl = getResourceAcl(myDatasetWithAcl);\n          //console.log(\"get\")\n        }\n        //console.log(\"acl\",resourceAcl)\n        // Give someone Control access to the given Resource:\n        /*  const updatedAcl = setAgentResourceAccess(\n        resourceAcl,\n        \"https://some.pod/profile#webId\",\n        { read: false, append: false, write: false, control: true }\n      );*/\n      const ownerAcl = setAgentResourceAccess(resourceAcl,\n        this.webId,\n        { read: true, append: true, write: true, control: true },\n      );\n\n      //  let r =\n      await saveAclFor(myDatasetWithAcl, ownerAcl);\n      const publicAcl = setPublicResourceAccess(\n        resourceAcl,\n        { read: true, append: true, write: false, control: false },\n      );\n\n\n      // Now save the ACL:\n      //  let r =  await saveAclFor(myDatasetWithAcl, ownerAcl);\n      // let rp =\n      await saveAclFor(myDatasetWithAcl, publicAcl);\n      //console.log(r,rp)\n    }\n    this.createActivity()\n  },\n  createActivity(){\n    //console.log(\"createActivity\")\n\n    this.net.displayType = \"Network\"\n    this.net.types = [\"Task\", \"http://www.w3.org/ns/ldp#Resource\"]\n    this.net.path = this.tmp_file.url\n    //console.log(this.net)\n    this.activity = {\n      actor: {name: this.$store.state.solid.webId},\n      type:\"Create\",\n      summary: \"\",\n      object:{\n        name: this.thisNode.label,\n        url: this.tmp_file.url,\n        type:\"Network\"}\n      }\n\n      this.sendActivity()\n\n\n    },\n    clear(){\n      this.nodes = []\n      this.edges = []\n    },\n    openCommand(){\n      this.$bvModal.show(\"command-popup\")\n    },\n    async update(){\n      this.triples = []\n      //console.log(this.file.url)\n      let split_hash = this.file.url.split(\"#\")\n      this.file.url = split_hash[0]\n      this.file.localname = split_hash[1]\n      if (this.file.url != undefined && (this.file.url.endsWith('.ttl') || (this.file.url.endsWith('card')))){\n      //  this.clear()\n        let fileDoc = await fetchDocument(this.file.url)\n        //  console.log(\"fileDoc\",fileDoc)\n        this.triples = fileDoc.getTriples()\n        //console.log(this.triples)\n      }else{\n        //console.log(\"TODO\",this.file.url)\n      }\n      if (this.triples.length > 0){\n        this.triples.forEach((t) => {\n          //console.log(\"trip\",t)\n          this.addTriplet(t)\n        });\n\n      }\n\n    },\n    addTriplet(t){\n      // ////console.log(t)\n      // ////console.log(t.subject.id, t.predicate.id, t.object.id)\n      var color = this.colorize(t.subject.id)\n      let label =  this.lastPart(t.subject.id)\n\n      if (t.predicate.id == \"http://www.w3.org/2000/01/rdf-schema#label\"){\n        //console.log(\"LABEL\",t.object.id)\n        label = t.object.id\n      }\n\n      let subjectNode = { id:t.subject.id, label: label, shape: \"star\", color:'rgba('+color.red+', '+color.green+', '+color.blue+',0.5)'  }\n      // ////console.log(subjectNode)\n      //  this.dataset.nodes[subjectNode.id] = subjectNode\n      subjectNode  = this.addOrNothingNode(subjectNode)\n\n      var colorO = this.colorize(t.object.id)\n      let labelO =  this.lastPart(t.object.id)\n\n\n\n\n      let objectNode = { id:t.object.id, label: labelO, shape: \"box\", color:'rgba('+colorO.red+', '+colorO.green+', '+colorO.blue+',0.5)'  }\n      // ////console.log(objectNode)\n      //  this.dataset.nodes[subjectNode.id] = subjectNode\n      this.addOrNothingNode(objectNode)\n\n      let labelP = this.lastPart(t.predicate.id)\n      let propertyEdge = {from: subjectNode.id, to: objectNode.id, label: labelP}\n      this.edges.push(propertyEdge)\n\n\n\n    },\n\n    /*async getData() {\n    let dataDoc = await fetchDocument(this.url);\n    let subj = dataDoc.getSubject(this.url+\"#this\")\n    console.log(subj)\n    let types = subj.getAllRefs(rdf.type)\n    console.log(types)\n  }*/\n},\n\nwatch:{\n  file(){\n    //console.log(this.file)\n    this.update()\n  },\n\n  /*'$route' (to) {\n  //  '$route' (to, from) {\n  console.log(to)\n},\nurl(url){\nconsole.log(\"URL CHANGE\",url)\n}*/\n},\ncomputed:{\n  folder:{\n    get: function() { return this.$store.state.solid.folder},\n    set: function() {}\n  },\n  profile_url:{\n    get: function() { return this.$store.state.solid.storage+\"public/popock/profile.ttl\"},\n    set: function() {}\n  },\n  storage:{\n    get: function() { return this.$store.state.solid.storage},\n    set: function() {}\n  },\n  webId:{\n    get: function() { return this.$store.state.solid.webId},\n    set: function() {}\n  },\n  friends:{\n    get: function() { return this.$store.state.solid.friends},\n    set: function() {}\n  },\n  file: {\n    get: function () {return this.$store.state.solid.file},\n    set: function (file) {return this.$store.commit('solid/setFile', file)}\n  },\n},\n}\n</script>\n<style>\n.wrapper{\n  min-height: 100vh;\n  border: 1px solid black;\n  background: linear-gradient(to bottom, rgba(215, 215, 255), rgba(250, 250, 170));\n  padding: 10px;\n  height: 100vh;\n}\n#operation {\n  font-size:28px;\n}\n#node-popUp {\n  display:none;\n  position:absolute;\n  top:350px;\n  left:170px;\n  z-index:299;\n  width:250px;\n  height:120px;\n  background-color: #f9f9f9;\n  border-style:solid;\n  border-width:3px;\n  border-color: #5394ed;\n  padding:10px;\n  text-align: center;\n}\n#edge-popUp {\n  display:none;\n  position:absolute;\n  top:350px;\n  left:170px;\n  z-index:299;\n  width:250px;\n  height:90px;\n  background-color: #f9f9f9;\n  border-style:solid;\n  border-width:3px;\n  border-color: #5394ed;\n  padding:10px;\n  text-align: center;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditorNetwork.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditorNetwork.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./EditorNetwork.vue?vue&type=template&id=07562a2e&\"\nimport script from \"./EditorNetwork.vue?vue&type=script&lang=js&\"\nexport * from \"./EditorNetwork.vue?vue&type=script&lang=js&\"\nimport style0 from \"./EditorNetwork.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","'use strict';\nvar $ = require('../internals/export');\nvar $map = require('../internals/array-iteration').map;\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('map');\n// FF49- issue\nvar USES_TO_LENGTH = arrayMethodUsesToLength('map');\n\n// `Array.prototype.map` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.map\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT || !USES_TO_LENGTH }, {\n  map: function map(callbackfn /* , thisArg */) {\n    return $map(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n"],"sourceRoot":""}