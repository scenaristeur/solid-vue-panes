(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4febd6d8"],{1404:function(t,e,a){"use strict";var i=a("1da1"),r=(a("b0c0"),a("a15b"),a("fb6a"),a("ac1f"),a("1276"),a("2ca0"),a("96cf"),a("4d8d")),n=a("6dc1"),c=a("d33b");e["a"]={mixins:[c["a"]],created:function(){this.webId=this.$store.state.solid.webId,this.config(this.webId);var t=new Date;this.date=this.formatDate(t)},methods:{sendOfferActivity:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var a,i,c,o,s,d,l;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log(t.activity),a=new Date,i="Activity_"+a.getTime(),c=a.toISOString(),o=t.formatDate(a),s=t.pubPod+o+".ttl",d={},e.prev=7,e.next=10,Object(r["b"])(s);case 10:d=e.sent,e.next=18;break;case 13:return e.prev=13,e.t0=e["catch"](7),e.next=17,Object(r["a"])(s);case 17:d=e.sent;case 18:return l=d.addSubject({identifier:i}),l.addLiteral(n["e"].label,t.activity["gr:name"]),l.addLiteral(n["a"].created,c),l.addRef(n["d"].type,t.activity["gr:hasBusinessFunction"]),l.addRef(n["d"].type,"http://purl.org/goodrelations/v1#Offering"),l.addRef(n["b"].maker,t.webId),l.addRef("https://www.w3.org/ns/activitystreams#actor",t.webId),l.addLiteral("http://purl.org/goodrelations/v1#name",t.activity["gr:name"]),l.addLiteral("http://purl.org/goodrelations/v1#businessEntity",t.activity["gr:businessEntity"]),l.addLiteral("http://purl.org/goodrelations/v1#description",t.activity["gr:description"]),l.addLiteral("https://www.w3.org/ns/activitystreams#summary",t.activity["gr:name"]),l.addRef("https://www.w3.org/ns/activitystreams#object",t.activity.object.url),l.addLiteral("http://purl.org/goodrelations/v1#hasCurrency",t.activity["gr:hasPriceSpecification"]["gr:hasCurrency"]),l.addLiteral("http://purl.org/goodrelations/v1#hasCurrencyValue",t.activity["gr:hasPriceSpecification"]["gr:hasCurrencyValue"]),e.next=34,d.save();case 34:case"end":return e.stop()}}),e,null,[[7,13]])})))()},sendActivity:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var a,i,c,o,s,d,l,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log(t.activity),a=new Date,i="Activity_"+a.getTime(),c=a.toISOString(),o=t.formatDate(a),console.log(t.activity.actor.name,t.activity.type,t.activity.summary,o),s=t.pubPod+o+".ttl",d={},e.prev=8,e.next=11,Object(r["b"])(s);case 11:d=e.sent,e.next=19;break;case 14:return e.prev=14,e.t0=e["catch"](8),e.next=18,Object(r["a"])(s);case 18:d=e.sent;case 19:return t.activity.summary.length<1&&(t.activity.summary=[t.activity.actor.name.split("/").slice(2,3)[0],t.localname(t.activity.type),"a",t.activity.object.type,"with name",t.activity.object.name].join(" ")),l=t.activity.object.type.startsWith("http")?t.activity.object.type:"https://www.w3.org/ns/activitystreams#"+t.activity.object.type,u=d.addSubject({identifier:i}),u.addLiteral(n["e"].label,t.activity.object.name),u.addLiteral(n["a"].created,c),u.addRef(n["b"].maker,t.webId),u.addRef("https://www.w3.org/ns/activitystreams#actor",t.webId),u.addRef(n["d"].type,l),u.addLiteral("https://www.w3.org/ns/activitystreams#summary",t.activity.summary),u.addRef("https://www.w3.org/ns/activitystreams#object",t.activity.object.url),void 0!=t.activity.object.inReplyTo&&u.addRef("https://www.w3.org/ns/activitystreams#inReplyTo",t.activity.object.inReplyTo),"https://www.w3.org/ns/activitystreams#Article"!=l?void 0!=t.currentWorkspace?u.addRef(n["d"].type,t.currentWorkspace.path+t.activity.object.type):u.addRef(n["d"].type,t.activity.object.url+"#"+t.activity.object.type):u.addRef(n["d"].type,t.activity.type),e.next=33,d.save();case 33:case"end":return e.stop()}}),e,null,[[8,14]])})))()},send:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var a,i,c,o,s,d,l;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log(t.activity),a=t.pubPod+t.date+".ttl",i=new Date,c="Activity_"+i.getTime(),o=i.toISOString(),s={},e.prev=6,e.next=9,Object(r["b"])(a);case 9:s=e.sent,e.next=17;break;case 12:return e.prev=12,e.t0=e["catch"](6),e.next=16,Object(r["a"])(a);case 16:s=e.sent;case 17:return d=[t.activity.actor.name,t.activity.type,"a",t.activity.object.type,"with name",t.activity.object.name].join(" "),l=s.addSubject({identifier:c}),l.addLiteral(n["e"].label,d),l.addLiteral(n["a"].created,o),l.addRef(n["b"].maker,t.webId),l.addRef("https://www.w3.org/ns/activitystreams#actor",t.webId),l.addRef(n["d"].type,"https://www.w3.org/ns/activitystreams#"+t.activity.type),l.addLiteral("https://www.w3.org/ns/activitystreams#summary",t.activity.summary),l.addRef("https://www.w3.org/ns/activitystreams#object",t.activity.object.url),e.next=28,s.save();case 28:console.log("todo toast when activity saved");case 29:case"end":return e.stop()}}),e,null,[[6,12]])})))()},formatDate:function(t){return[t.getFullYear(),("0"+(t.getMonth()+1)).slice(-2),("0"+t.getDate()).slice(-2)].join("-")},config:function(t){this.config={},this.config.webId=t}},webId:{webId:function(t){this.config(t)}},computed:{webId:{get:function(){return this.$store.state.solid.webId},set:function(){}},activities:{get:function(){return this.$store.state.agora.activities},set:function(){}}},data:function(){return{as:{core:["Object","Link","Activity","IntransitiveActivity","Collection","OrderedCollection","CollectionPage","OrderedCollectionPage"],activity:["Accept","Add","Announce","Arrive","Block","Create","Delete","Dislike","Flag","Follow","Ignore","Invite","Join","Leave","Like","Listen","Move","Offer","Question","Reject","Read","Remove","TentativeReject","TentativeAccept","Travel","Undo","Update","View"],actor:["Application","Group","Organization","Person","Service"],object:["Article","Audio","Document","Event","Image","Note","Page","Place","Profile","Relationship","Tombstone","Video","Mention"]},pubPod:"https://agora.solidcommunity.net/public/popock/inbox/"}}}},"2ca0":function(t,e,a){"use strict";var i=a("23e7"),r=a("06cf").f,n=a("50c4"),c=a("5a34"),o=a("1d80"),s=a("ab13"),d=a("c430"),l="".startsWith,u=Math.min,v=s("startsWith"),p=!d&&!v&&!!function(){var t=r(String.prototype,"startsWith");return t&&!t.writable}();i({target:"String",proto:!0,forced:!p&&!v},{startsWith:function(t){var e=String(o(this));c(t);var a=n(u(arguments.length>1?arguments[1]:void 0,e.length)),i=String(t);return l?l.call(e,i,a):e.slice(a,a+i.length)===i}})},"83abe":function(t,e,a){},bf19:function(t,e,a){"use strict";var i=a("23e7");i({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return URL.prototype.toString.call(this)}})},d33b:function(t,e,a){"use strict";a("fb6a"),a("bf19");e["a"]={methods:{localname:function(t){var e=t;return void 0!=t&&(e=-1!=t.lastIndexOf("#")?t.substr(t.lastIndexOf("#")).substr(1):t.substr(t.lastIndexOf("/")).substr(1),e=0==e.length?t:e),e},today:function(){var t=new Date;return t.setMinutes(this.getMinutes()-this.getTimezoneOffset()),t.toJSON().slice(0,10)},streamActivity:function(t,e){var a={"@context":"https://www.w3.org/ns/activitystreams",summary:"User fill a form with shighl-vuejs",type:"Add",published:(new Date).toISOString(),actor:{type:"Person",id:t,name:"UserName",url:"same as webid ?",image:{type:"Link",href:"http://example.org/martin/image.jpg",mediaType:"image/jpeg"}},object:{id:"http://www.test.example/blog/abc123/xyz",type:"Document",url:"http://example.org/blog/2011/02/entry",name:"Why I love Activity Streams",content:e},target:{id:"http://example.org/blog/",type:"OrderedCollection",name:"Martin's Blog"}};return a}}}},d845:function(t,e,a){"use strict";a("83abe")},fe98:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modele-view"},[a("div",{staticClass:"accordion scroll",attrs:{role:"tablist"}},t._l(t.files,(function(e,i){return a("b-card",{key:e.name,staticClass:"mb-1",attrs:{"no-body":"","bg-variant":"dark","text-variant":"white"}},[a("b-card-header",{staticClass:"p-1",attrs:{"header-tag":"header",role:"tab"}},[a("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle",value:"accordion-"+i,expression:"'accordion-'+index"}],attrs:{block:"",variant:"info"}},[t._v(t._s(e.name))])],1),a("b-collapse",{attrs:{id:"accordion-"+i,visible:!0,accordion:"my-accordion",role:"tabpanel"}},[a("b-card-body",[a("b-card-text",[a("ArticlesInFile",{attrs:{file:e}})],1)],1)],1)],1)})),1),t._v(" "+t._s(t.pubPod)+" ")])},r=[],n=a("1da1"),c=(a("96cf"),a("d3b7"),a("3ca3"),a("ddb0"),a("1404")),o=a("00e8"),s=a.n(o),d=a("7fed"),l=a.n(d),u=new l.a(s.a),v={name:"LastBlog",components:{ArticlesInFile:function(){return a.e("chunk-7fc0551b").then(a.bind(null,"86ed"))}},mixins:[c["a"]],props:["value"],data:function(){return{folder:{files:[]},files:[]}},created:function(){var t=new Date,e=this.formatDate(t);this.fileUrl=this.pubPod+e+".ttl",this.update()},methods:{update:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,u.readFolder(t.pubPod).then((function(e){console.log("Folder",e.folders),t.folder=e,t.files=t.folder.files.reverse()}),(function(e){console.log("erreur for url : ",t.pubPod,e)}));case 2:case"end":return e.stop()}}),e)})))()}},watch:{},computed:{}},p=v,b=(a("d845"),a("2877")),y=Object(b["a"])(p,i,r,!1,null,null,null);e["default"]=y.exports}}]);
//# sourceMappingURL=chunk-4febd6d8.3b36bc20.js.map