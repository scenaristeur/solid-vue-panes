(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["editor"],{"0871":function(t,e,n){"use strict";n("79b6")},"527c":function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"editor container"},[null!=t.webId?n("div",[n("b-card",{attrs:{title:"Editor"}},[n("Explorer"),n("b-tabs",{attrs:{"content-class":"mt-3"}},[n("b-tab",{attrs:{title:"Text"}},[n("div",[n("b-button-toolbar",{attrs:{"aria-label":"Toolbar with button groups and dropdown menu"}},[n("b-button-group",{staticClass:"mr-1",attrs:{size:"sm"}},[n("b-button",{on:{click:t.clean}},[n("b-icon-file-plus")],1)],1),n("b-button-group",{staticClass:"mr-1",attrs:{size:"sm"}},[n("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.editor_save",modifiers:{editor_save:!0}}],attrs:{size:"sm",variant:"warning"}},[t._v("Save "),n("b-icon-file-arrow-up")],1)],1)],1)],1),n("div",[n("b-form-textarea",{attrs:{id:"textarea",placeholder:"Enter something, then click 'Save' button...",rows:"3","max-rows":"15"},on:{change:t.change},model:{value:t.text,callback:function(e){t.text=e},expression:"text"}})],1)]),n("b-tab",{attrs:{title:"Ttl"}},[n("EditorTtl")],1),n("b-tab",{attrs:{title:"Network",active:""}},[t._v(" - "),n("EditorNetwork")],1)],1)],1)],1):n("div",[n("SolidLoginButton")],1),n("b-modal",{attrs:{id:"editor_save",title:"Save"},on:{show:t.fill,ok:t.save}},[n("b-form-group",{attrs:{"label-cols-sm":"3",label:"Path:","label-align-sm":"right","label-for":"path"}},[n("b-form-input",{attrs:{id:"path"},model:{value:t.path,callback:function(e){t.path=e},expression:"path"}})],1),n("b-form-group",{attrs:{"label-cols-sm":"3",label:"Filename:","label-align-sm":"right","label-for":"name"}},[n("b-form-input",{attrs:{id:"name"},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1),n("b-form-group",{attrs:{"label-cols-sm":"3",label:"Mimetype:","label-align-sm":"right",placeholder:"text/plain ? text/turtle ? application/json ?","label-for":"type"}},[n("b-form-input",{attrs:{id:"type"},model:{value:t.type,callback:function(e){t.type=e},expression:"type"}})],1)],1)],1)},o=[],a=(n("a15b"),n("b0c0"),n("d3b7"),n("ac1f"),n("8a79"),n("1276"),n("96cf"),n("1da1")),r={name:"Editor",components:{SolidLoginButton:function(){return n.e("chunk-034e0f2f").then(n.bind(null,"e9a1"))},EditorTtl:function(){return n.e("chunk-1bbabe50").then(n.bind(null,"5554"))},EditorNetwork:function(){return Promise.all([n.e("chunk-61b07530"),n.e("chunk-7ee58fec"),n.e("chunk-c700d8e0"),n.e("chunk-0c14c92a")]).then(n.bind(null,"b803"))},Explorer:function(){return n.e("chunk-80346e08").then(n.bind(null,"c717"))}},data:function(){return{name:"",type:"",path:"",url:""}},created:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.url=t.$route.query.url,void 0!=t.url?(console.log("created",t.url),t.updateFile()):(t.name="new_file.txt",t.type="text/plain",t.path=t.storage);case 2:case"end":return e.stop()}}),e)})))()},methods:{clean:function(){this.text="";var t={name:"new_file.txt",type:"text/plain",parent:this.folder.url||this.storage};this.$store.commit("solid/setContent",""),this.file=t},change:function(t){console.log("change",t)},fill:function(){this.name=this.file.name,this.type=this.file.type,this.path=this.file.parent},save:function(){console.log("text",this.text),this.path=this.path.endsWith("/")?this.path:this.path+"/",console.log("File",this.type,this.path,this.name);var t={path:this.path,name:this.name,content:this.text,contentType:this.type};this.$store.dispatch("solid/writeFile",t),this.$store.dispatch("solid/updateFolder",this.path)},updateFile:function(){var t=this.url.split("/"),e=t.pop(),n=t.join("/")+"/",i="text/turtle",o={url:this.url,name:e,parent:n,type:i};console.log(o),this.$store.dispatch("solid/updateFile",o),console.log("ZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZ",this.name,this.path,this.type)}},computed:{webId:function(){return this.$store.state.solid.webId},storage:function(){return this.$store.state.solid.storage},folder:function(){return this.$store.state.solid.folder},file:{get:function(){return this.$store.state.solid.file},set:function(t){return this.$store.commit("solid/setFile",t)}},text:{get:function(){return this.$store.state.solid.content},set:function(t){return this.$store.commit("solid/setContent",t)}}},watch:{url:function(){void 0!=this.url&&(console.log("url",this.url),this.updateFile())}}},s=r,l=(n("0871"),n("2877")),u=Object(l["a"])(s,i,o,!1,null,null,null);e["default"]=u.exports},"79b6":function(t,e,n){}}]);
//# sourceMappingURL=editor.b135ba0a.js.map