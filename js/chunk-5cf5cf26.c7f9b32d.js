(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5cf5cf26"],{a972:function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"modele-view"},[e._v(" -- migration for "),r("a",{attrs:{href:"https://gitlab.com/solid.community/proposals/-/issues/16",target:"_blank"}},[e._v("solid.community shutdown")]),r("br"),e._v(" - POD : "+e._s(e.webId)),r("br"),e._v(" - storage : "+e._s(e.storage)),r("br"),e._v(" - SEARCH : "),r("b-input",{model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),r("br"),e._v(" - REPLACE : "),r("b-input",{model:{value:e.replace,callback:function(t){e.replace=t},expression:"replace"}}),r("br"),null!=e.acl?r("div",[e._l(e.mustUpdate,(function(t){return r("div",{key:t.url+"-up"},[e._v(" "+e._s(t.url)+" ")])})),e.mustUpdate.length>0?r("b-button",{attrs:{variant:"success"},on:{click:e.updateAll}},[e._v("Update All "+e._s(e.mustUpdate.length)+" files")]):e._e(),r("hr"),r("br"),e._v("- FILES : "),r("br"),e._l(e.files,(function(t){return r("MigrationItem",{key:t.url,attrs:{item:t,search:e.search,replace:e.replace}})})),r("hr"),e._v(" - FOLDERS : "),e._l(e.folders,(function(t){return r("MigrationItem",{key:t.url,attrs:{item:t,search:e.search,replace:e.replace}})}))],2):r("div",[e._v(" I CAN NOT READ "+e._s(e.storage)+" .ACL, are you sure that you grant Popock to CONTROL your POD. please update in your preferences "),r("a",{attrs:{href:e.webId,target:"_blank"}},[e._v(e._s(e.webId))]),e._v(", then refresh this page ")]),null!=e.acl?r("SubFolder",{attrs:{url:e.storage,search:e.search,replace:e.replace}}):e._e()],1)},a=[],s=(r("d3b7"),r("96cf"),r("1da1")),o=r("93ef"),c=r("fd2a"),i=r("00e8"),u=r.n(i),l=r("7fed"),d=r.n(l),f=new d.a(u.a),p={name:"FilesMigration",components:{SubFolder:function(){return r.e("chunk-4ddb4cca").then(r.bind(null,"1fb2"))},MigrationItem:function(){return r.e("chunk-17851653").then(r.bind(null,"1565"))}},mixins:[c["a"]],props:["webId"],data:function(){return{acl:null,search:"solid.community",replace:"solidcommunity.net"}},created:function(){this.$store.commit("migration/init")},watch:{storage:function(){this.$store.commit("migration/init"),this.$store.commit("migration/addFolders",[{url:this.storage}]),this.checkStorageAcl()}},methods:{updateAll:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:r=e;case 1:if(!(e.mustUpdate.length>0)){t.next=15;break}return n=e.mustUpdate.pop(),t.prev=3,t.next=6,f.createFile(n.url,n.newContent,n.type);case 6:console.log("fixed",n.url),r.makeToast("FIXED",e.file.url,"success"),t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](3),r.makeToast("ERROR",t.t0,"danger");case 13:t.next=1;break;case 15:case"end":return t.stop()}}),t,null,[[3,10]])})))()},checkStorageAcl:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,console.log(e.storage),t.next=4,Object(o["j"])(e.storage);case 4:r=t.sent,n=Object(o["d"])(r),e.acl=n,console.log("STORAGE ACL",e.acl),t.next=15;break;case 10:t.prev=10,t.t0=t["catch"](0),e.makeToast("Error",t.t0,"danger"),alert(t.t0),e.acl=null;case 15:case"end":return t.stop()}}),t,null,[[0,10]])})))()}},computed:{storage:{get:function(){return this.$store.state.solid.storage},set:function(){}},folders:{get:function(){return this.$store.state.migration.folders},set:function(){}},files:{get:function(){return this.$store.state.migration.files},set:function(){}},mustUpdate:{get:function(){return this.$store.state.migration.mustUpdate},set:function(){}}}},h=p,m=(r("c024"),r("2877")),g=Object(m["a"])(h,n,a,!1,null,null,null);t["default"]=g.exports},c024:function(e,t,r){"use strict";r("f6e5")},f6e5:function(e,t,r){},fd2a:function(e,t,r){"use strict";t["a"]={methods:{makeToast:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.$bvToast.toast(t,{title:e,variant:r,solid:!0})}}}}}]);
//# sourceMappingURL=chunk-5cf5cf26.c7f9b32d.js.map